<div class="dialog-content-wrapper">
    <mat-toolbar matDialogTitle class="mat-accent m-0 toolbar-margin">
        <mat-toolbar-row class="toolbar-row" fxLayout="row" fxLayoutAlign="space-between center">
            <span class="title dialog-title">{{dialogTitle}}</span>
            <button mat-button class="mat-icon-button"
                    (click)="dialogRef.close()"
                    aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>
    <mat-tab-group class="royalty-tab-page">
        <mat-tab label="Royalty Program List">
          <app-cap-list class="royalit-progs-cap-list"></app-cap-list>
        </mat-tab>
        <mat-tab label="Royalty Program" class="royalty-program-form">
          <!-- CONTENT -->
          <mat-dialog-content class="m-0 p-0 royality-modal-create">
              <form name="capForm" [formGroup]="capForm" class="product w-100-p" fxLayout="column" fxFlex>

                          <div class="tab-content p-24" fxLayout="column">

                              <div class="py-16" fxLayout="row">
                                  <mat-icon class="mr-12 mt-12">account_circle</mat-icon>
                                  <mat-form-field fxFlex class="mr-12">
                                      <input matInput
                                             name="capCode"
                                             formControlName="capCode"
                                             placeholder="Code"
                                             required>
                                  </mat-form-field>

                                  <mat-icon class="mr-12 mt-12">account_circle</mat-icon>
                                  <mat-form-field fxFlex>
                                    <mat-select placeholder="Cycle" formControlName="capCycle" required>
                                        <mat-option *ngFor="let cc of capCycle" [value]="cc.id">
                                            {{ cc.value }}
                                        </mat-option>
                                    </mat-select>
                                  </mat-form-field>
                              </div>
                              <div class="py-16" fxLayout="row">
                                  <mat-icon class="mr-12 mt-12">star</mat-icon>
                                  <mat-form-field fxFlex>
                                      <input matInput
                                             name="capPercent"
                                             formControlName="capPercent"
                                             placeholder="Percent(%)">
                                  </mat-form-field>
                              </div>
                              <div class="py-16" fxLayout="row">
                                  <mat-icon class="mr-12 mt-12">star</mat-icon>
                                  <mat-form-field fxFlex class="mr-12">
                                      <input matInput
                                             name="capMin"
                                             formControlName="capMin"
                                             placeholder="Minimum Amount">
                                  </mat-form-field>
                                  <mat-icon class="mr-12 mt-12">star</mat-icon>
                                  <mat-form-field fxFlex>
                                      <input matInput
                                             name="capMax"
                                             formControlName="capMax"
                                             placeholder="Maximum Amount">
                                  </mat-form-field>
                              </div>
                              <div class="py-16" fxLayout="row">
                                  <mat-icon class="mr-12 mt-12">star</mat-icon>
                                  <mat-form-field fxFlex class="mr-12">
                                      <input matInput
                                             name="adPercent"
                                             formControlName="adPercent"
                                             placeholder="Ad. Percent (%)">
                                  </mat-form-field>
                                  <mat-icon class="mr-12 mt-12">star</mat-icon>
                                  <mat-form-field fxFlex>
                                      <input matInput
                                             name="adMin"
                                             formControlName="adMin"
                                             placeholder="Ad. Minimum Amount">
                                  </mat-form-field>
                              </div>

                          </div>
              </form>

          </mat-dialog-content>
          <!-- / CONTENT -->
          <mat-dialog-actions class="m-0 p-16 ml-18" fxLayout="row" fxLayoutAlign="space-between center">

              <button *ngIf="action !=='edit'"
                      mat-raised-button
                      (click)="create()"
                      class="save-button mat-accent"
                      aria-label="SAVE">SAVE</button>

              <button *ngIf="action ==='edit'"
                      mat-raised-button
                      (click)="update()"
                      class="save-button mat-accent"
                      aria-label="SAVE">SAVE</button>
          </mat-dialog-actions>
        </mat-tab>
     </mat-tab-group>

    <div class="loading" *ngIf="loading">
        <mat-spinner></mat-spinner>
    </div>
</div>
